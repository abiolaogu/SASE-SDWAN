# OpenSASE VPP Engine - Interface Configuration
# This file is executed after VPP starts

# Create loopback for management
create loopback interface
set interface state loop0 up
set interface ip address loop0 10.255.255.1/32

# Configure DPDK interfaces
# These names match the 'name' field in startup.conf

# WAN interface (uplink to internet/backbone)
set interface state net0 up
set interface mtu 9000 net0

# LAN/Tunnel interface  
set interface state net1 up
set interface mtu 9000 net1

# Enable OpenSASE feature on WAN interface
# This inserts our security node into the IPv4 path
set interface feature net0 ip4-unicast opensase-security

# Create WireGuard tunnel interface
# wireguard create port 51820

# Show configuration
show interface
show hardware-interfaces
