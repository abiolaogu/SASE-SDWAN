openapi: 3.1.0
info:
  title: OpenSASE Platform API
  description: |
    # OpenSASE Platform API
    
    OpenSASE is a comprehensive enterprise platform providing 75+ integrated services
    including Identity Management, CRM, Payments, E-commerce, HR, Marketing, and more.
    
    ## Authentication
    
    All API requests require authentication using one of the following methods:
    
    - **API Key**: Include `Authorization: Bearer os_live_xxx` header
    - **OAuth 2.0**: Use OAuth 2.0 flows for user authentication
    - **mTLS**: For service-to-service communication
    
    ## Rate Limiting
    
    | Plan | Requests/min | Requests/day |
    |------|--------------|--------------|
    | Free | 60 | 10,000 |
    | Pro | 600 | 100,000 |
    | Enterprise | 6,000 | Unlimited |
    
    ## Versioning
    
    The API uses URL-based versioning. Current stable version: `v1`
    
  version: 1.0.0
  contact:
    name: OpenSASE API Support
    url: https://docs.opensase.billyronks.io
    email: api-support@opensase.billyronks.io
  license:
    name: Proprietary
    url: https://opensase.billyronks.io/terms
  x-logo:
    url: https://cdn.opensase.billyronks.io/logo.png

servers:
  - url: https://api.opensase.billyronks.io/v1
    description: Production
  - url: https://api.staging.opensase.billyronks.io/v1
    description: Staging
  - url: https://api.dev.opensase.billyronks.io/v1
    description: Development

tags:
  - name: Identity
    description: User authentication, authorization, and management
  - name: CRM
    description: Customer relationship management
  - name: Payments
    description: Payment processing and subscriptions
  - name: Commerce
    description: E-commerce platform
  - name: HR
    description: Human resources management
  - name: Marketing
    description: Marketing automation
  - name: Storage
    description: Object storage
  - name: Messaging
    description: Message queues and event streaming
  - name: Database
    description: Managed database services
  - name: Scheduling
    description: Appointment scheduling
  - name: Forms
    description: Form builder
  - name: KnowledgeBase
    description: Documentation and wiki
  - name: Projects
    description: Project management
  - name: Meetings
    description: Video conferencing
  - name: Webhooks
    description: Webhook management

security:
  - BearerAuth: []
  - OAuth2: []

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: API Key
      description: |
        API keys should be passed as Bearer tokens.
        
        Example: `Authorization: Bearer os_live_abc123...`
        
    OAuth2:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://auth.opensase.billyronks.io/oauth/authorize
          tokenUrl: https://api.opensase.billyronks.io/v1/oauth/token
          refreshUrl: https://api.opensase.billyronks.io/v1/oauth/token
          scopes:
            identity:read: Read user profiles
            identity:write: Create/update users
            identity:admin: Full identity management
            crm:read: Read CRM data
            crm:write: Manage CRM data
            payments:read: Read payment data
            payments:write: Process payments
            storage:read: Read objects
            storage:write: Upload objects
            commerce:read: Read commerce data
            commerce:write: Manage commerce data
            hr:read: Read HR data
            hr:write: Manage HR data
            marketing:read: Read marketing data
            marketing:write: Manage marketing campaigns
        clientCredentials:
          tokenUrl: https://api.opensase.billyronks.io/v1/oauth/token
          scopes:
            identity:read: Read user profiles
            crm:read: Read CRM data
            payments:read: Read payment data

  schemas:
    # Common schemas
    Error:
      type: object
      required:
        - error
      properties:
        error:
          type: object
          required:
            - code
            - message
          properties:
            code:
              type: string
              description: Machine-readable error code
              example: validation_error
            message:
              type: string
              description: Human-readable error message
              example: The request body contains invalid fields
            request_id:
              type: string
              description: Unique request identifier for debugging
              example: req_01HQGXK8V3ZWTPNBCDEF12345
            details:
              type: array
              items:
                $ref: '#/components/schemas/ErrorDetail'
            documentation_url:
              type: string
              format: uri
              description: Link to relevant documentation
              example: https://docs.opensase.io/errors/validation_error

    ErrorDetail:
      type: object
      properties:
        field:
          type: string
          description: Field that caused the error
          example: email
        code:
          type: string
          description: Specific error code for this field
          example: invalid_format
        message:
          type: string
          description: Human-readable error message
          example: Email must be a valid email address

    Pagination:
      type: object
      properties:
        page:
          type: integer
          minimum: 1
          example: 1
        per_page:
          type: integer
          minimum: 1
          maximum: 100
          example: 20
        total:
          type: integer
          minimum: 0
          example: 1234
        total_pages:
          type: integer
          minimum: 0
          example: 62

    CursorPagination:
      type: object
      properties:
        has_more:
          type: boolean
          example: true
        next_cursor:
          type: string
          nullable: true
          example: eyJpZCI6ImNvbnRhY3RfeHl6Nzg5In0=
        prev_cursor:
          type: string
          nullable: true
          example: eyJpZCI6ImNvbnRhY3RfZGVmNDU2In0=

    Timestamp:
      type: string
      format: date-time
      example: '2024-01-15T12:00:00Z'

    Money:
      type: object
      properties:
        amount:
          type: string
          pattern: '^\d+\.\d{2}$'
          example: '99.99'
        currency:
          type: string
          minLength: 3
          maxLength: 3
          example: USD

    Address:
      type: object
      properties:
        street:
          type: string
          maxLength: 255
          example: 123 Main St
        street2:
          type: string
          maxLength: 255
          example: Apt 4
        city:
          type: string
          maxLength: 100
          example: San Francisco
        state:
          type: string
          maxLength: 100
          example: CA
        postal_code:
          type: string
          maxLength: 20
          example: '94102'
        country:
          type: string
          minLength: 2
          maxLength: 2
          description: ISO 3166-1 alpha-2 country code
          example: US

    # Identity schemas
    User:
      type: object
      properties:
        id:
          type: string
          description: Unique user identifier
          example: user_01HQGXK8V3ZWT
        email:
          type: string
          format: email
          example: john.doe@example.com
        email_verified:
          type: boolean
          example: true
        profile:
          $ref: '#/components/schemas/UserProfile'
        status:
          type: string
          enum: [active, inactive, suspended, pending]
          example: active
        roles:
          type: array
          items:
            type: string
          example: [user, admin]
        groups:
          type: array
          items:
            $ref: '#/components/schemas/GroupRef'
        mfa:
          $ref: '#/components/schemas/MFASettings'
        metadata:
          type: object
          additionalProperties: true
          example:
            department: Engineering
            employee_id: EMP-12345
        last_login_at:
          $ref: '#/components/schemas/Timestamp'
        created_at:
          $ref: '#/components/schemas/Timestamp'
        updated_at:
          $ref: '#/components/schemas/Timestamp'

    UserProfile:
      type: object
      properties:
        first_name:
          type: string
          maxLength: 100
          example: John
        last_name:
          type: string
          maxLength: 100
          example: Doe
        display_name:
          type: string
          maxLength: 200
          example: John Doe
        avatar_url:
          type: string
          format: uri
          example: https://cdn.opensase.io/avatars/user_01HQGXK8V3ZWT.jpg
        phone:
          type: string
          pattern: '^\+[1-9]\d{1,14}$'
          example: '+1-555-123-4567'
        phone_verified:
          type: boolean
          example: true
        locale:
          type: string
          example: en-US
        timezone:
          type: string
          example: America/New_York

    UserCreate:
      type: object
      required:
        - email
      properties:
        email:
          type: string
          format: email
          example: john.doe@example.com
        password:
          type: string
          format: password
          minLength: 8
          maxLength: 128
          description: Required unless send_welcome_email is true
        profile:
          type: object
          properties:
            first_name:
              type: string
              maxLength: 100
            last_name:
              type: string
              maxLength: 100
            phone:
              type: string
              pattern: '^\+[1-9]\d{1,14}$'
            locale:
              type: string
            timezone:
              type: string
        roles:
          type: array
          items:
            type: string
          default: [user]
        groups:
          type: array
          items:
            type: string
          description: Group IDs to add user to
        metadata:
          type: object
          additionalProperties: true
        send_welcome_email:
          type: boolean
          default: false
          description: Send welcome email with password setup link

    UserUpdate:
      type: object
      properties:
        profile:
          type: object
          properties:
            first_name:
              type: string
              maxLength: 100
            last_name:
              type: string
              maxLength: 100
            phone:
              type: string
              pattern: '^\+[1-9]\d{1,14}$'
            locale:
              type: string
            timezone:
              type: string
        status:
          type: string
          enum: [active, inactive, suspended]
        roles:
          type: array
          items:
            type: string
        metadata:
          type: object
          additionalProperties: true

    GroupRef:
      type: object
      properties:
        id:
          type: string
          example: group_engineering
        name:
          type: string
          example: Engineering

    Group:
      type: object
      properties:
        id:
          type: string
          example: group_engineering
        name:
          type: string
          example: Engineering
        description:
          type: string
          example: Engineering team members
        member_count:
          type: integer
          example: 45
        roles:
          type: array
          items:
            type: string
          example: [developer, user]
        created_at:
          $ref: '#/components/schemas/Timestamp'
        updated_at:
          $ref: '#/components/schemas/Timestamp'

    GroupCreate:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          maxLength: 100
          example: Product Team
        description:
          type: string
          maxLength: 500
          example: Product management team
        roles:
          type: array
          items:
            type: string
          example: [product_manager, user]

    MFASettings:
      type: object
      properties:
        enabled:
          type: boolean
          example: true
        methods:
          type: array
          items:
            type: string
            enum: [totp, sms, email, webauthn]
          example: [totp, sms]

    LoginRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
          example: john.doe@example.com
        password:
          type: string
          format: password
        device_info:
          type: object
          properties:
            device_id:
              type: string
            device_name:
              type: string
            os:
              type: string
            browser:
              type: string

    LoginResponse:
      type: object
      properties:
        access_token:
          type: string
          description: JWT access token
        refresh_token:
          type: string
          description: Refresh token for obtaining new access tokens
        token_type:
          type: string
          enum: [Bearer]
          example: Bearer
        expires_in:
          type: integer
          description: Token expiration in seconds
          example: 3600
        scope:
          type: string
          example: openid profile email
        user:
          $ref: '#/components/schemas/User'

    MFARequiredResponse:
      type: object
      properties:
        mfa_required:
          type: boolean
          example: true
        mfa_token:
          type: string
          description: Temporary token for MFA verification
        mfa_methods:
          type: array
          items:
            type: string
            enum: [totp, sms, email, webauthn]
        expires_in:
          type: integer
          description: Token expiration in seconds
          example: 300

    MFAVerifyRequest:
      type: object
      required:
        - mfa_token
        - method
        - code
      properties:
        mfa_token:
          type: string
        method:
          type: string
          enum: [totp, sms, email, webauthn]
        code:
          type: string
          minLength: 6
          maxLength: 6

    RefreshTokenRequest:
      type: object
      required:
        - refresh_token
      properties:
        refresh_token:
          type: string

    PasswordResetRequest:
      type: object
      required:
        - email
      properties:
        email:
          type: string
          format: email

    PasswordResetComplete:
      type: object
      required:
        - token
        - new_password
      properties:
        token:
          type: string
        new_password:
          type: string
          format: password
          minLength: 8
          maxLength: 128

    PasswordChangeRequest:
      type: object
      required:
        - current_password
        - new_password
      properties:
        current_password:
          type: string
          format: password
        new_password:
          type: string
          format: password
          minLength: 8
          maxLength: 128

  parameters:
    PageParam:
      name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
      description: Page number for pagination

    PerPageParam:
      name: per_page
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
      description: Number of items per page

    LimitParam:
      name: limit
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
      description: Maximum number of items to return

    CursorParam:
      name: cursor
      in: query
      schema:
        type: string
      description: Cursor for pagination

    SearchParam:
      name: search
      in: query
      schema:
        type: string
        maxLength: 200
      description: Search query string

    SortParam:
      name: sort
      in: query
      schema:
        type: string
      description: Sort field and direction (e.g., created_at:desc)

    IdempotencyKeyHeader:
      name: Idempotency-Key
      in: header
      schema:
        type: string
        maxLength: 255
      description: Unique key to ensure idempotent requests

    WorkspaceHeader:
      name: X-Workspace-ID
      in: header
      schema:
        type: string
      description: Workspace/Tenant identifier

  responses:
    BadRequest:
      description: Bad Request - Invalid request body or parameters
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error:
              code: validation_error
              message: The request body contains invalid fields
              request_id: req_01HQGXK8V3ZWTPNBCDEF12345
              details:
                - field: email
                  code: invalid_format
                  message: Email must be a valid email address

    Unauthorized:
      description: Unauthorized - Missing or invalid authentication
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error:
              code: unauthorized
              message: Invalid or expired authentication token
              request_id: req_01HQGXK8V3ZWTPNBCDEF12345

    Forbidden:
      description: Forbidden - Insufficient permissions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error:
              code: forbidden
              message: You do not have permission to perform this action
              request_id: req_01HQGXK8V3ZWTPNBCDEF12345

    NotFound:
      description: Not Found - Resource does not exist
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error:
              code: not_found
              message: The requested resource was not found
              request_id: req_01HQGXK8V3ZWTPNBCDEF12345

    Conflict:
      description: Conflict - Resource already exists or state conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error:
              code: conflict
              message: A resource with this identifier already exists
              request_id: req_01HQGXK8V3ZWTPNBCDEF12345

    TooManyRequests:
      description: Too Many Requests - Rate limit exceeded
      headers:
        X-RateLimit-Limit:
          schema:
            type: integer
          description: Request limit per time window
        X-RateLimit-Remaining:
          schema:
            type: integer
          description: Remaining requests in current window
        X-RateLimit-Reset:
          schema:
            type: integer
          description: Unix timestamp when the rate limit resets
        Retry-After:
          schema:
            type: integer
          description: Seconds to wait before retrying
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error:
              code: rate_limit_exceeded
              message: Rate limit exceeded. Please retry after 30 seconds.
              request_id: req_01HQGXK8V3ZWTPNBCDEF12345

    InternalError:
      description: Internal Server Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error:
              code: internal_error
              message: An unexpected error occurred
              request_id: req_01HQGXK8V3ZWTPNBCDEF12345

paths:
  # Identity - Users
  /identity/users:
    get:
      tags:
        - Identity
      summary: List users
      description: Retrieve a paginated list of users with optional filtering
      operationId: listUsers
      parameters:
        - $ref: '#/components/parameters/PageParam'
        - $ref: '#/components/parameters/PerPageParam'
        - $ref: '#/components/parameters/SearchParam'
        - name: status
          in: query
          schema:
            type: string
            enum: [active, inactive, suspended, pending]
        - name: sort
          in: query
          schema:
            type: string
            enum: [created_at, name, email]
            default: created_at
        - name: order
          in: query
          schema:
            type: string
            enum: [asc, desc]
            default: desc
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '429':
          $ref: '#/components/responses/TooManyRequests'

    post:
      tags:
        - Identity
      summary: Create user
      description: Create a new user account
      operationId: createUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCreate'
      responses:
        '201':
          description: User created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '409':
          $ref: '#/components/responses/Conflict'
        '429':
          $ref: '#/components/responses/TooManyRequests'

  /identity/users/{user_id}:
    parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID

    get:
      tags:
        - Identity
      summary: Get user
      description: Retrieve a specific user by ID
      operationId: getUser
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'

    patch:
      tags:
        - Identity
      summary: Update user
      description: Update an existing user
      operationId: updateUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdate'
      responses:
        '200':
          description: User updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags:
        - Identity
      summary: Delete user
      description: Delete a user account
      operationId: deleteUser
      responses:
        '204':
          description: User deleted successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'

  # Identity - Authentication
  /identity/auth/login:
    post:
      tags:
        - Identity
      summary: Login
      description: Authenticate user with email and password
      operationId: login
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Login successful or MFA required
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/LoginResponse'
                  - $ref: '#/components/schemas/MFARequiredResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          description: Invalid credentials
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '429':
          $ref: '#/components/responses/TooManyRequests'

  /identity/auth/mfa/verify:
    post:
      tags:
        - Identity
      summary: Verify MFA
      description: Complete MFA verification
      operationId: verifyMFA
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MFAVerifyRequest'
      responses:
        '200':
          description: MFA verification successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/LoginResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          description: Invalid MFA code
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /identity/auth/refresh:
    post:
      tags:
        - Identity
      summary: Refresh token
      description: Obtain new access token using refresh token
      operationId: refreshToken
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/LoginResponse'
        '401':
          description: Invalid or expired refresh token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /identity/auth/logout:
    post:
      tags:
        - Identity
      summary: Logout
      description: Invalidate current session and optionally all sessions
      operationId: logout
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                refresh_token:
                  type: string
                all_devices:
                  type: boolean
                  default: false
      responses:
        '204':
          description: Logout successful

  /identity/auth/password/reset-request:
    post:
      tags:
        - Identity
      summary: Request password reset
      description: Send password reset email
      operationId: requestPasswordReset
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetRequest'
      responses:
        '200':
          description: Reset email sent (if account exists)
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                        example: If the email exists, a reset link has been sent

  /identity/auth/password/reset:
    post:
      tags:
        - Identity
      summary: Reset password
      description: Complete password reset with token
      operationId: resetPassword
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetComplete'
      responses:
        '200':
          description: Password reset successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                        example: Password has been reset successfully
        '400':
          $ref: '#/components/responses/BadRequest'

  /identity/auth/password/change:
    post:
      tags:
        - Identity
      summary: Change password
      description: Change password for authenticated user
      operationId: changePassword
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordChangeRequest'
      responses:
        '200':
          description: Password changed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                        example: Password changed successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'

  # Identity - Groups
  /identity/groups:
    get:
      tags:
        - Identity
      summary: List groups
      description: Retrieve all groups
      operationId: listGroups
      parameters:
        - $ref: '#/components/parameters/PageParam'
        - $ref: '#/components/parameters/PerPageParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Group'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '401':
          $ref: '#/components/responses/Unauthorized'

    post:
      tags:
        - Identity
      summary: Create group
      description: Create a new group
      operationId: createGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupCreate'
      responses:
        '201':
          description: Group created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/Group'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '409':
          $ref: '#/components/responses/Conflict'

  /identity/groups/{group_id}/members:
    parameters:
      - name: group_id
        in: path
        required: true
        schema:
          type: string
        description: Group ID

    post:
      tags:
        - Identity
      summary: Add members to group
      description: Add users to a group
      operationId: addGroupMembers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user_ids
              properties:
                user_ids:
                  type: array
                  items:
                    type: string
                  minItems: 1
                  maxItems: 100
      responses:
        '200':
          description: Members added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      added:
                        type: integer
                      already_members:
                        type: integer
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags:
        - Identity
      summary: Remove members from group
      description: Remove users from a group
      operationId: removeGroupMembers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user_ids
              properties:
                user_ids:
                  type: array
                  items:
                    type: string
                  minItems: 1
                  maxItems: 100
      responses:
        '200':
          description: Members removed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      removed:
                        type: integer
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
